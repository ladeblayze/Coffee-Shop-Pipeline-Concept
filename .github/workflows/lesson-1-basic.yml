name: Lesson 1 - Basic Coffee Shop

# When should this run?
on:
  workflow_dispatch:  # Manual trigger - you click a button
    inputs:
      shift:
        description: "Which shift to run?"
        type: choice
        required: true
        options:
          - morning
          - afternoon
          - evening
          - closing
      
      location:
        description: "Which store location?"
        type: choice
        required: true
        options:
          - downtown
          - airport
          - mall
          - university

# What should happen?
jobs:
  morning-prep:
    # Only run this job if user selected "morning"
    if: ${{ inputs.shift == 'morning' }}
    name: "Morning: Prepare the store"
    runs-on: ubuntu-latest  # Use a Linux computer
    
    steps:
      - name: Turn on lights
        run: echo "ğŸ’¡ Lights are now on at ${{ inputs.location }} store"
      
      - name: Start coffee machines
        run: |
          echo "â˜• Starting espresso machine..."
          echo "â˜• Starting drip coffee maker..."
          echo "â˜• All machines are warming up!"
      
      - name: Check inventory
        run: |
          echo "ğŸ“¦ Checking inventory for ${{ inputs.location }} store..."
          
          # Different stores need different supplies
          if [ "${{ inputs.location }}" == "airport" ]; then
            echo "âš ï¸  Airport store needs EXTRA milk (high traffic)"
            echo "âœ… Coffee beans: OK"
            echo "âœ… Cups: OK"
          elif [ "${{ inputs.location }}" == "downtown" ]; then
            echo "âœ… Milk: OK"
            echo "âœ… Coffee beans: OK"
            echo "âœ… Pastries: Freshly delivered!"
          elif [ "${{ inputs.location }}" == "university" ]; then
            echo "All Inventory is low, please restock!"
          else
            echo "âœ… All inventory looks good!"
          fi
      
      - name: Morning prep complete
        run: |
          echo "ğŸ‰ Morning prep finished!"
          echo "Store is ready to open at ${{ inputs.location }}"

  afternoon-service:
    if: ${{ inputs.shift == 'afternoon' }}
    name: "Afternoon: Serve customers"
    runs-on: ubuntu-latest
    
    steps:
      - name: Check current status
        run: |
          echo "ğŸ• Current shift: Afternoon"
          echo "ğŸ“ Location: ${{ inputs.location }}"
      
      - name: Brew fresh coffee
        run: |
          echo "â˜• Brewing fresh coffee batch..."
          sleep 2  # Simulate brewing time
          echo "âœ… Fresh coffee ready!"
      
      - name: Serve rush hour
        run: |
          echo "ğŸ‘¥ Afternoon rush starting..."
          
          # Airport has biggest rush
          if [ "${{ inputs.location }}" == "airport" ]; then
            echo "âœˆï¸  Heavy traffic - 47 customers served"
          elif [ "${{ inputs.location }}" == "downtown" ]; then
            echo "ğŸ¢ Office workers - 32 customers served"
          else
            echo "ğŸ›ï¸  Shopping crowd - 25 customers served"
          fi
          
          echo "âœ… Rush hour handled successfully!"

  evening-closing:
    if: ${{ inputs.shift == 'closing' or 'evening' }}
    name: "Closing: Clean and secure"
    runs-on: ubuntu-latest
    
    steps:
      - name: Start closing procedures
        run: echo "ğŸŒ™ Beginning closing procedures for ${{ inputs.location }}"
      
      - name: Clean equipment
        run: |
          echo "ğŸ§¹ Cleaning espresso machines..."
          echo "ğŸ§¹ Wiping down counters..."
          echo "ğŸ§¹ Mopping floors..."
          echo "âœ… Store is clean!"
      
      - name: Count cash register
        run: |
          echo "ğŸ’° Counting cash register..."
          
          # Generate random sales numbers for fun
          SALES=$((1000 + RANDOM % 1000))
          echo "Total sales today: \$$SALES"
          echo "Cash: \$$(($SALES * 60 / 100))"
          echo "Credit cards: \$$(($SALES * 40 / 100))"
      
      - name: Secure store
        run: |
          echo "ğŸ”’ Locking doors..."
          echo "ğŸ”’ Setting alarm..."
          echo "ğŸ”’ Turning off lights..."
          echo "âœ… ${{ inputs.location }} store is secured for the night"
      
      - name: Closing summary
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ“Š CLOSING SUMMARY"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "Location: ${{ inputs.location }}"
          echo "Date: $(date)"
          echo "Status: âœ… Successfully closed"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
